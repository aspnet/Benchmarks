variables:
  plaintextJobs: -j https://raw.githubusercontent.com/aspnet/Benchmarks/master/src/Benchmarks/benchmarks.plaintext.json
  defaultArgs: --server $(server) --client $(client) --runtimeversion 5.0.* --self-contained --warmup 5 --duration 5 --collect-counters --description Trend/Latest
  sqlArgs: --table \"BENCHMARKS_CONNECTION_STRING\"

steps:
- template: trend-citrine-template.yml # todo: make this a variable to use a different task for cloud
  parameters:
    scenarios: [
      { displayName: "Plaintext", args: "-n Plaintext $(plaintextJobs) $(defaultArgs) $(sqlArgs)" },
      { displayName: "Plaintext non pipelined", args: "-n PlaintextNonPipelined $(plaintextJobs) $(defaultArgs) $(sqlArgs)" }
    ]
