variables:
  plaintextJobs: -j https://raw.githubusercontent.com/aspnet/Benchmarks/master/src/Benchmarks/benchmarks.plaintext.json
  defaultArgs: --server $(server) --client $(client) --runtimeversion 5.0.* --self-contained --warmup 5 --duration 5 --collect-counters --description Trend/Latest
  sqlArgs: --table \"BENCHMARKS_CONNECTION_STRING\"

# Agent-less jobs need this pool
pool: server

jobs:
- job: Trend
  steps:
  - template: trend-steps.yml
    parameters:
      scenarios: [
        "-n Plaintext $(plaintextJobs) $(defaultArgs) $(sqlArgs)",
        "-n PlaintextNonPipelined $(plaintextJobs) $(defaultArgs) $(sqlArgs)"
      ]
