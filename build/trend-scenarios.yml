variables:
  plaintextJobs: -j https://raw.githubusercontent.com/aspnet/Benchmarks/master/src/Benchmarks/benchmarks.plaintext.json
  defaultArgs: --server $(server) --client $(client) --runtimeversion 5.0.* --self-contained --warmup 5 --duration 5 --collect-counters --description Trend/Latest
  sqlArgs: --table \"BENCHMARKS_CONNECTION_STRING\"

# Agent-less jobs need this pool
pool: server

jobs:
- job: Trend
  steps:
  - template: trend-citrine-template.yml
    parameters:
      displayName: "Plaintext"
      arguments: "-n Plaintext $(plaintextJobs) $(defaultArgs) $(sqlArgs)"
  - template: trend-citrine-template.yml
    parameters:
      displayName: "Plaintext non pipelined"
      arguments: "-n PlaintextNonPipelined $(plaintextJobs) $(defaultArgs) $(sqlArgs)"
