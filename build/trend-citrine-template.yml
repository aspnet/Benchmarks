# Executes the Proxy benchmarks on citrine

parameters:
  scenarios: []

#variables:
#  sessionArg: "--session $[format('{0:yyyyMMddHHmm}', pipeline.startTime)]"

steps:
- ${{ each s in parameters.scenarios }}:
  - task: PublishToAzureServiceBus@1
    condition: always()
    inputs:
      azureSubscription: ASP.NET Benchmarks Queue
      waitForCompletion: true
      messageBody: |
        {
          "name": "benchmarksdriver",
          "args": [ "${{ s }}" ]
        }
